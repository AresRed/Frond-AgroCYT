<div class="p-6 pt-0">
    <p-card header="Carga y Envío de Documentos al Empleado" styleClass="shadow-2xl">
        <p class="mb-6 text-gray-600">Suba una boleta de pago o un certificado y asócielo al perfil del trabajador.</p>

        <form (ngSubmit)="uploadDocument()" class="space-y-6">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Seleccionar Empleado (Destino)</label>
                    <p-dropdown 
                        [options]="employees" 
                        [(ngModel)]="selectedEmployeeId" 
                        optionLabel="fullName" 
                        optionValue="id" 
                        placeholder="-- Seleccione Trabajador --" 
                        [filter]="true" 
                        name="employeeId" 
                        required
                        styleClass="w-full">
                         <ng-template let-emp pTemplate="item">
                            <div>{{ emp.fullName }} ({{ emp.employeeCode }})</div>
                        </ng-template>
                    </p-dropdown>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Documento</label>
                    <input pInputText type="text" [(ngModel)]="documentType" name="documentType" required
                           placeholder="Ej: Boleta de Pago Noviembre, Certificado de Trabajo" 
                           class="w-full p-2 border rounded-md">
                </div>
            </div>

            <div class="border p-4 rounded-lg bg-gray-50">
                <label class="block text-sm font-medium text-gray-700 mb-2">Seleccionar Archivo (PDF, DOCX)</label>
                <input type="file" 
                       id="fileInput" 
                       accept=".pdf, .docx, .xlsx"
                       (change)="onFileSelect($event)" 
                       required
                       class="w-full text-gray-700">
                <p class="text-xs text-gray-500 mt-2">Archivo seleccionado: 
                    <span class="font-medium text-gray-800">{{ selectedFile?.name || 'Ninguno' }}</span>
                </p>
            </div>

            <div class="pt-4">
                <p-button type="submit" [label]="isLoading ? 'Subiendo...' : 'Subir y Asociar Documento'" 
                          icon="pi pi-upload" 
                          [loading]="isLoading"
                          [disabled]="!selectedFile || isLoading"
                          styleClass="p-button-success w-full shadow-md">
                </p-button>
            </div>
        </form>
    </p-card>
</div>